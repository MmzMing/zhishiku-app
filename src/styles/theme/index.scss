/**
 * 主题系统样式
 * 定义亮色和暗黑主题的CSS变量
 */

// ========== 亮色主题 ==========
:root,
[data-theme="light"] {
  // 字体设置
  --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-family-mono: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
  --font-size-base: 14px;
  --line-height-base: 1.6;
  --line-height-title: 1.3;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --letter-spacing-base: -0.02em;

  // 中性色 - 灰度系统
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #eeeeee;
  --color-neutral-300: #e0e0e0;
  --color-neutral-400: #bdbdbd;
  --color-neutral-500: #9e9e9e;
  --color-neutral-600: #757575;
  --color-neutral-700: #616161;
  --color-neutral-800: #424242;
  --color-neutral-900: #212121;
  
  // 纯黑与纯白
  --color-black: #000000;
  --color-white: #ffffff;
  
  // 品牌色
  --color-brand-hue: 220;
  --color-brand-saturation: 75%;
  --color-brand-lightness: 55%;
  
  // 品牌色阶
  --color-brand-50: hsl(220, 75%, 95%);
  --color-brand-100: hsl(220, 75%, 90%);
  --color-brand-200: hsl(220, 75%, 80%);
  --color-brand-300: hsl(220, 75%, 70%);
  --color-brand-400: hsl(220, 75%, 60%);
  --color-brand-500: hsl(220, 75%, 50%);
  --color-brand-600: hsl(220, 75%, 40%);
  --color-brand-700: hsl(220, 75%, 30%);
  --color-brand-800: hsl(220, 75%, 20%);
  --color-brand-900: hsl(220, 75%, 10%);
  
  // 功能色 - 成功
  --color-success-hue: 145;
  --color-success-saturation: 70%;
  --color-success-lightness: 45%;
  --color-success: hsl(145, 70%, 45%);
  --color-success-light: hsl(145, 70%, 90%);
  --color-success-dark: hsl(145, 70%, 35%);
  
  // 功能色 - 警告
  --color-warning-hue: 35;
  --color-warning-saturation: 85%;
  --color-warning-lightness: 50%;
  --color-warning: hsl(35, 85%, 50%);
  --color-warning-light: hsl(35, 85%, 90%);
  --color-warning-dark: hsl(35, 85%, 40%);
  
  // 功能色 - 错误
  --color-error-hue: 0;
  --color-error-saturation: 75%;
  --color-error-lightness: 50%;
  --color-error: hsl(0, 75%, 50%);
  --color-error-light: hsl(0, 75%, 90%);
  --color-error-dark: hsl(0, 75%, 40%);
  
  // 功能色 - 信息
  --color-info-hue: 200;
  --color-info-saturation: 70%;
  --color-info-lightness: 55%;
  --color-info: hsl(200, 70%, 55%);
  --color-info-light: hsl(200, 70%, 90%);
  --color-info-dark: hsl(200, 70%, 45%);
  
  // 链接色
  --color-link: hsl(210, 75%, 50%);
  --color-link-hover: hsl(210, 75%, 40%);
  
  // 语义化颜色
  --color-bg-primary: var(--color-neutral-50);
  --color-bg-secondary: #E9F0F5;
  --color-bg-tertiary: var(--color-neutral-100);
  
  --color-text-primary: var(--color-neutral-900);
  --color-text-secondary: var(--color-neutral-600);
  --color-text-tertiary: var(--color-neutral-500);
  --color-text-disabled: var(--color-neutral-400);
  --color-text-placeholder: var(--color-neutral-400);
  
  --color-border: #000000;
  --color-border-light: var(--color-neutral-100);
  --color-border-dark: var(--color-neutral-300);
  
  // 表面层级
  --surface-0: var(--color-white);
  --surface-1: var(--color-neutral-50);
  --surface-2: var(--color-neutral-100);
  --surface-3: var(--color-neutral-200);
  --surface-4: var(--color-neutral-300);
  
  // 阴影
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  
  // 层级阴影
  --elevation-1: var(--shadow-sm);
  --elevation-2: var(--shadow-md);
  --elevation-3: var(--shadow-lg);
  --elevation-4: var(--shadow-xl);
  
  // 滚动条
  --scrollbar-track: var(--color-neutral-100);
  --scrollbar-thumb: var(--color-neutral-300);
  --scrollbar-thumb-hover: var(--color-neutral-400);
  
  // 图片
  --image-brightness: 1;
  --image-contrast: 1;
}

// ========== 暗黑主题 ==========
[data-theme="dark"] {
  // 字体设置（与亮色主题保持一致）
  --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-family-mono: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
  --font-size-base: 14px;
  --line-height-base: 1.6;
  --line-height-title: 1.3;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --letter-spacing-base: -0.02em;

  // 中性色 - 反转
  --color-neutral-50: #1a1a1a;
  --color-neutral-100: #242424;
  --color-neutral-200: #2d2d2d;
  --color-neutral-300: #3a3a3a;
  --color-neutral-400: #484848;
  --color-neutral-500: #5a5a5a;
  --color-neutral-600: #757575;
  --color-neutral-700: #9e9e9e;
  --color-neutral-800: #bdbdbd;
  --color-neutral-900: #e0e0e0;
  
  // 品牌色调整
  --color-brand-saturation: 50%;
  --color-brand-lightness: 65%;
  
  --color-brand-50: hsl(220, 50%, 15%);
  --color-brand-100: hsl(220, 50%, 20%);
  --color-brand-200: hsl(220, 50%, 25%);
  --color-brand-300: hsl(220, 50%, 35%);
  --color-brand-400: hsl(220, 50%, 45%);
  --color-brand-500: hsl(220, 50%, 55%);
  --color-brand-600: hsl(220, 50%, 65%);
  --color-brand-700: hsl(220, 50%, 75%);
  --color-brand-800: hsl(220, 50%, 85%);
  --color-brand-900: hsl(220, 50%, 95%);
  
  // 功能色调整
  --color-success-saturation: 60%;
  --color-success-lightness: 55%;
  --color-success: hsl(145, 60%, 55%);
  --color-success-light: hsl(145, 60%, 20%);
  --color-success-dark: hsl(145, 60%, 45%);
  
  --color-warning-saturation: 75%;
  --color-warning-lightness: 55%;
  --color-warning: hsl(35, 75%, 55%);
  --color-warning-light: hsl(35, 75%, 20%);
  --color-warning-dark: hsl(35, 75%, 45%);
  
  --color-error-saturation: 65%;
  --color-error-lightness: 55%;
  --color-error: hsl(0, 65%, 55%);
  --color-error-light: hsl(0, 65%, 20%);
  --color-error-dark: hsl(0, 65%, 45%);
  
  --color-info-saturation: 60%;
  --color-info-lightness: 60%;
  --color-info: hsl(200, 60%, 60%);
  --color-info-light: hsl(200, 60%, 20%);
  --color-info-dark: hsl(200, 60%, 50%);
  
  // 链接色
  --color-link: hsl(210, 65%, 65%);
  --color-link-hover: hsl(210, 65%, 75%);
  
  // 语义化颜色
  --color-bg-primary: var(--color-neutral-50);
  --color-bg-secondary: var(--color-neutral-100);
  --color-bg-tertiary: var(--color-neutral-200);
  
  --color-text-primary: var(--color-neutral-900);
  --color-text-secondary: var(--color-neutral-700);
  --color-text-tertiary: var(--color-neutral-600);
  --color-text-disabled: var(--color-neutral-500);
  --color-text-placeholder: var(--color-neutral-500);
  
  --color-border: var(--color-neutral-300);
  --color-border-light: var(--color-neutral-200);
  --color-border-dark: var(--color-neutral-400);
  
  // 表面层级
  --surface-0: var(--color-neutral-50);
  --surface-1: var(--color-neutral-100);
  --surface-2: var(--color-neutral-200);
  --surface-3: var(--color-neutral-300);
  --surface-4: var(--color-neutral-400);
  
  // 阴影 - 暗色模式使用更深阴影
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 12px 48px rgba(0, 0, 0, 0.25);
  
  // 发光效果
  --glow-primary: 0 0 0 3px rgba(88, 166, 255, 0.2);
  --glow-success: 0 0 0 3px rgba(72, 199, 116, 0.2);
  
  // 滚动条
  --scrollbar-track: var(--color-neutral-200);
  --scrollbar-thumb: var(--color-neutral-400);
  --scrollbar-thumb-hover: var(--color-neutral-500);
  
  // 图片
  --image-brightness: 0.9;
  --image-contrast: 1.1;
}

// ========== 跟随系统主题 ==========
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    // 中性色 - 反转
    --color-neutral-50: #1a1a1a;
    --color-neutral-100: #242424;
    --color-neutral-200: #2d2d2d;
    --color-neutral-300: #3a3a3a;
    --color-neutral-400: #484848;
    --color-neutral-500: #5a5a5a;
    --color-neutral-600: #757575;
    --color-neutral-700: #9e9e9e;
    --color-neutral-800: #bdbdbd;
    --color-neutral-900: #e0e0e0;
    
    // 语义化颜色
    --color-bg-primary: var(--color-neutral-50);
    --color-bg-secondary: var(--color-neutral-100);
    --color-bg-tertiary: var(--color-neutral-200);
    
    --color-text-primary: var(--color-neutral-900);
    --color-text-secondary: var(--color-neutral-700);
    --color-text-tertiary: var(--color-neutral-600);
    
    --color-border: var(--color-neutral-300);
    --color-border-light: var(--color-neutral-200);
    --color-border-dark: var(--color-neutral-400);
    
    // 表面层级
    --surface-0: var(--color-neutral-50);
    --surface-1: var(--color-neutral-100);
    --surface-2: var(--color-neutral-200);
    --surface-3: var(--color-neutral-300);
    --surface-4: var(--color-neutral-400);
    
    // 滚动条
    --scrollbar-track: var(--color-neutral-200);
    --scrollbar-thumb: var(--color-neutral-400);
    --scrollbar-thumb-hover: var(--color-neutral-500);
    
    // 图片
    --image-brightness: 0.9;
    --image-contrast: 1.1;
  }
}

// ========== Element Plus 暗色主题覆盖 ==========
[data-theme="dark"],
:root:not([data-theme="light"]):has(:root[style*="color-scheme: dark"]) {
  // Element Plus 背景色
  --el-bg-color: #1a1a1a;
  --el-bg-color-page: #0d0d0d;
  --el-bg-color-overlay: #242424;
  
  // Element Plus 文字颜色
  --el-text-color-primary: #e0e0e0;
  --el-text-color-regular: #bdbdbd;
  --el-text-color-secondary: #9e9e9e;
  --el-text-color-placeholder: #757575;
  --el-text-color-disabled: #5a5a5a;
  
  // Element Plus 边框颜色
  --el-border-color: #3a3a3a;
  --el-border-color-light: #2d2d2d;
  --el-border-color-lighter: #242424;
  --el-border-color-extra-light: #1a1a1a;
  --el-border-color-dark: #484848;
  --el-border-color-darker: #5a5a5a;
  
  // Element Plus 填充色
  --el-fill-color: #2d2d2d;
  --el-fill-color-light: #242424;
  --el-fill-color-lighter: #1a1a1a;
  --el-fill-color-extra-light: #141414;
  --el-fill-color-dark: #3a3a3a;
  --el-fill-color-darker: #484848;
  --el-fill-color-blank: #1a1a1a;
  
  // Element Plus 遮罩
  --el-mask-color: rgba(0, 0, 0, 0.8);
  --el-mask-color-extra-light: rgba(0, 0, 0, 0.3);
  
  // Element Plus 阴影
  --el-box-shadow: 0 12px 32px 4px rgba(0, 0, 0, 0.36), 0 8px 20px rgba(0, 0, 0, 0.72);
  --el-box-shadow-light: 0 0 12px rgba(0, 0, 0, 0.72);
  --el-box-shadow-lighter: 0 0 6px rgba(0, 0, 0, 0.48);
  --el-box-shadow-dark: 0 16px 48px 16px rgba(0, 0, 0, 0.72), 0 12px 32px rgba(0, 0, 0, 0.96);
}

// 单独的暗色主题选择器，确保覆盖
[data-theme="dark"] {
  --el-bg-color: #1a1a1a;
  --el-bg-color-page: #0d0d0d;
  --el-bg-color-overlay: #242424;
  
  --el-text-color-primary: #e0e0e0;
  --el-text-color-regular: #bdbdbd;
  --el-text-color-secondary: #9e9e9e;
  --el-text-color-placeholder: #757575;
  --el-text-color-disabled: #5a5a5a;
  
  --el-border-color: #3a3a3a;
  --el-border-color-light: #2d2d2d;
  --el-border-color-lighter: #242424;
  --el-border-color-extra-light: #1a1a1a;
  --el-border-color-dark: #484848;
  --el-border-color-darker: #5a5a5a;
  
  --el-fill-color: #2d2d2d;
  --el-fill-color-light: #242424;
  --el-fill-color-lighter: #1a1a1a;
  --el-fill-color-extra-light: #141414;
  --el-fill-color-dark: #3a3a3a;
  --el-fill-color-darker: #484848;
  --el-fill-color-blank: #1a1a1a;
  
  --el-mask-color: rgba(0, 0, 0, 0.8);
  --el-mask-color-extra-light: rgba(0, 0, 0, 0.3);
}
